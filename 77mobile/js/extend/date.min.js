//使用Uglify压缩的date.js
Date.error=function(a){return isNaN(a)||"Invalid Date"==a};Date.prototype.error=function(){return isNaN(this)||"Invalid Date"==this};Date.isYear=function(a){a=parseInt(a);return!isNaN(a)&&0<a&&Math.round(a)==a};Date.isMonth=function(a){a=parseInt(a);return!isNaN(a)&&0<a&&13>a&&Math.round(a)==a};Date.isDate=function(a){a=parseInt(a);return!isNaN(a)&&0<a&&32>a&&Math.round(a)==a};Date.isDay=function(a){a=parseInt(a);return!isNaN(a)&&0<a&&366>a&&Math.round(a)==a};
Date.isWeek=function(a){a=parseInt(a);return!isNaN(a)&&0<a&&53>a&&Math.round(a)==a};Date.isWeekday=function(a){a=parseInt(a);return!isNaN(a)&&0<=a&&7>a&&Math.round(a)==a};
Date.format=function(a,b){function d(a){return 10>a?"0"+a:a}b||(b="{YYYY}-{MM}-{DD} {hh}:{mm}:{ss}");var c=new Date(a);if(Date.error(c))return!1;c={YYYY:c.getFullYear(),YY:c.getFullYear().toString().substring(2),M:c.getMonth()+1,D:c.getDate(),h:c.getHours(),m:c.getMinutes(),s:c.getSeconds(),w:c.getDay(),MM:"",mon:"",MON:"",DD:"",hh:"",H:"",HH:"",mm:"",ss:"",ww:"",W:"",WW:"",n:"",N:""};c.MM=d(c.M);switch(c.m){case 1:c.mon="Jan";c.MON="January";break;case 2:c.mon="Feb";c.MON="February";break;case 3:c.mon=
"Mar";c.MON="March";break;case 4:c.mon="Apr";c.MON="April";break;case 5:c.mon="May";c.MON="May";break;case 6:c.mon="Jun";c.MON="June";break;case 7:c.mon="Jul";c.MON="July";break;case 8:c.mon="Aug";c.MON="August";break;case 9:c.mon="Sep";c.MON="September";break;case 10:c.mon="Oct";c.MON="October";break;case 11:c.mon="Nov";c.MON="November";break;case 12:c.mon="Dec",c.MON="December"}switch(c.w){case 0:c.ww="Sun";c.W="\u65e5";c.WW="Sunday";break;case 1:c.ww="Mon";c.W="\u4e00";c.WW="Monday";break;case 2:c.ww=
"Tue";c.W="\u4e8c";c.WW="Tuesday";break;case 3:c.ww="Wed";c.W="\u4e09";c.WW="Wednesday";break;case 4:c.ww="Thu";c.W="\u56db";c.WW="Thursday";break;case 5:c.ww="Fri";c.W="\u4e94";c.WW="Friday";break;case 6:c.ww="Sat",c.W="\u516d",c.WW="Saturday"}c.DD=d(c.D);c.hh=d(c.h);c.H=12<c.h?c.h-12:c.h;c.HH=d(c.H);c.n=12<c.h?"pm":"am";c.N=12<c.h?"\u4e0b\u5348":"\u4e0a\u5348";c.mm=d(c.m);c.ss=d(c.s);for(var f in c)b=b.replace(new RegExp("{"+f+"}","g"),c[f]);return b};
Date.prototype.format=function(a){return this.error()?!1:Date.format(this,a)};Date.date=function(a){a||(a="{YYYY}-{MM}-{DD}");return Date.format(new Date,a)};Date.prototype.date=function(a){a||(a="{YYYY}-{MM}-{DD}");return this.error()?!1:Date.format(this,a)};Date.time=function(a){a||(a="{hh}:{mm}:{ss}");return Date.format(new Date,a)};Date.prototype.time=function(a){a||(a="{hh}:{mm}:{ss}");return this.error()?!1:Date.format(this,a)};Date.year=function(){return(new Date).getFullYear()};
Date.month=function(){return(new Date).getMonth()+1};Date.day=function(){return(new Date).getDate()};Date.hour=function(){return(new Date).getHours()};Date.minute=function(){return(new Date).getMinutes()};Date.second=function(){return(new Date).getSeconds()};Date.weekday=function(){return(new Date).getDay()};Date.now=function(){return Date.date()+" "+Date.time()};
Date.daysOfMonth=function(a,b){if(b&&!Date.isYear(b)||a&&!Date.isMonth(a))return!1;a||(a=Date.month());b||(b=Date.year());switch(a){case 1:case 3:case 5:case 7:case 8:case 10:case 12:return 31;case 4:case 6:case 9:case 11:return 30;case 2:return 0==b%400||0!=b%100&&0==b%4?29:28}return!1};Date.prototype.daysOfMonth=function(){return this.error()?!1:Date.daysOfMonth(this.getMonth()+1)};Date.leap=function(a){return Date.isYear(a)?0==a%400||0!=a%100&&0==a%4:!1};
Date.prototype.leap=function(){return this.error()?!1:Date.leap(this.getFullYear())};Date.daysOfYear=function(a){return Date.leap(a)?366:365};Date.prototype.daysOfYear=function(){return this.error()?!1:Date.daysOfYear(this.getFullYear())};
Date.add=function(a,b,d){if(d&&("string"!=typeof d||0>",year,y,month,mon,week,w,day,d,hour,h,minute,m,second,s,".indexOf(","+d.toLowerCase()+",")))return!1;b=parseInt(b);if(!b&&0!==b&&"0"!==b||isNaN(b))return!1;a=new Date(a);if(Date.error(a))return!1;d||(d="d");d=d.toLowerCase();switch(d){case "month":case "mon":d=Math.floor(b/12)+a.getFullYear();b=(b+12)%12+a.getMonth();a.setYear(d);a.setMonth(b);break;case "year":case "y":a.setYear(a.getFullYear()+b);break;default:switch(d){case "week":case "w":b*=
7;case "day":case "d":b*=24;case "hour":case "h":b*=60;case "minute":case "m":b*=60;case "second":case "s":b*=1E3}a.setTime(a.getTime()+b)}return a};Date.prototype.add=function(a,b){return this.error()?!1:Date.add(this,a,b)};Date.today=function(){var a=new Date;return new Date(a.getFullYear(),a.getMonth(),a.getDate())};Date.prototype.today=function(){return new Date(this.getFullYear(),this.getMonth(),this.getDate())};
Date.yesterday=function(a){a||(a=1);a=parseInt(a);if(isNaN(a))return!1;var b=new Date;return new Date(b.getFullYear(),b.getMonth(),b.getDate()-a)};Date.prototype.yesterday=function(a){a||(a=1);a=parseInt(a);return isNaN(a)||this.error()?!1:new Date(this.getFullYear(),this.getMonth(),this.getDate()-a)};Date.tomorrow=function(a){a||(a=1);a=parseInt(a);if(isNaN(a))return!1;var b=new Date;return new Date(b.getFullYear(),b.getMonth(),b.getDate()+a)};
Date.prototype.tomorrow=function(a){a||(a=1);a=parseInt(a);return isNaN(a)||this.error()?!1:new Date(this.getFullYear(),this.getMonth(),this.getDate()+a)};
Date.differ=function(a,b,d){if(d&&("string"!=typeof d||0>",week,w,day,d,hour,h,minute,m,second,s,".indexOf(","+d.toLowerCase()+",")))return!1;a=new Date(a);b=new Date(b);if(Date.error(a)||Date.error(b))return!1;d||(d="d");d=d.toLowerCase();var c=1;switch(d){case "week":case "w":c*=7;case "day":case "d":c*=24;case "hour":case "h":c*=60;case "minute":case "m":c*=60;case "second":case "s":c*=1E3}return(b.getTime()-a.getTime())/c};
Date.prototype.differ=function(a,b){return this.error()?!1:Date.differ(a,this,b)};Date.firstSundayOfYear=function(a){var b=Date.isYear(a);if(a&&!b)return!1;var d=new Date;d.setDate(1);d.setMonth(0);b&&d.setYear(a);d.setDate((7-d.getDay())%7+1);return new Date(d.getFullYear(),d.getMonth(),d.getDate())};Date.prototype.firstSundayOfYear=function(){return this.error()?!1:Date.firstSundayOfYear(this.getFullYear())};
Date.firstSundayOfMonth=function(a,b){var d=Date.isMonth(a),c=Date.isYear(b);if(b&&!c||a&&!d)return!1;var f=new Date;f.setDate(1);d&&f.setMonth(a-1);c&&f.setYear(b);f.setDate((7-f.getDay())%7+1);return new Date(f.getFullYear(),f.getMonth(),f.getDate())};Date.prototype.firstSundayOfMonth=function(){return this.error()?!1:Date.firstSundayOfMonth(this.getMonth()+1,this.getFullYear())};
Date.lastSundayOfYear=function(a){var b=Date.isYear(a);if(a&&!b)return!1;var d=new Date;d.setMonth(11);d.setDate(31);b&&d.setYear(a);d.setDate(31-d.getDay());return new Date(d.getFullYear(),d.getMonth(),d.getDate())};Date.prototype.lastSundayOfYear=function(){return this.error()?!1:Date.lastSundayOfYear(this.getFullYear())};
Date.lastSundayOfMonth=function(a,b){var d=Date.isMonth(a),c=Date.isYear(b);if(b&&!c||a&&!d)return!1;var f=new Date;f.setDate(1);c&&f.setYear(b);d&&f.setMonth(a-1);d=f.daysOfMonth();f.setDate(d);f.setDate(d-f.getDay());return new Date(f.getFullYear(),f.getMonth(),f.getDate())};Date.prototype.lastSundayOfMonth=function(){return this.error()?!1:Date.lastSundayOfMonth(this.getMonth()+1,this.getFullYear())};
Date.weeksOfYear=function(a){if(!Date.isYear(a))return!1;var b=Date.firstSundayOfYear(a);return(Date.lastSundayOfYear(a).getTime()-b.getTime())/864E5/7+1};Date.prototype.weeksOfYear=function(){return this.error()?!1:Date.weeksOfYear(this.getFullYear())};
Date.getDate=function(a){if(!a)return!1;var b=1*a.year,d=1*a.month,c=1*a.num,f=1*a.week;a=1*a.weekday;var e=Date.isYear(b),k=Date.isMonth(d),g=c&&/^[\+]?[\d]+$/.test(c.toString()),l=Date.isWeek(f),h=Date.isWeekday(a);e||(b=Date.year());return k&&l&&h?(e=Date.firstSundayOfMonth(d,b),b=12==d?Date.firstSundayOfYear(b+1):Date.firstSundayOfMonth(d+1,b),e.setTime(e.getTime()+864E5*(7*(f-1)+a)),0<Date.differ(e,b)?e:!1):l&&h?(e=Date.firstSundayOfYear(b),b=Date.firstSundayOfYear(b+1),e.setTime(e.getTime()+
864E5*(7*(f-1)+a)),0<Date.differ(e,b)?e:!1):k&&g&&h?(e=new Date(b,d-1,1),b=11==d?new Date(b+1,0,1):new Date(b,d,1),f=e.getDay(),e.setTime(e.getTime()+864E5*((a-f+7)%7+7*(c-1))),0<Date.differ(e,b)?e:!1):g&&h?(e=new Date(b,0,1),b=new Date(b+1,0,1),f=e.getDay(),e.setTime(e.getTime()+864E5*((a-f+7)%7+7*(c-1))),0<Date.differ(e,b)?e:!1):k&&g?(e=new Date(b,d-1,c),b=11==d?new Date(b+1,0,1):new Date(b,d,1),Date.error(e)||0<Date.differ(e,b)?e:!1):g?(e=new Date(b,0,1),b=new Date(b+1,0,1),e.setTime(e.getTime()+
864E5*(c-1)),0<Date.differ(e,b)?e:!1):!1};Date.prototype.atDayOfYear=function(){if(this.error())return!1;var a=new Date(this.getFullYear(),0,1);return(this.today().getTime()-a.getTime())/864E5+1};Date.prototype.atWeekOfYear=function(){if(this.error())return!1;var a=this.today();a.setTime(a.getTime()-864E5*a.getDay());var b=Date.firstSundayOfYear(a.getFullYear());return(a.getTime()-b.getTime())/864E5/7+1};
Date.prototype.atWeekOfMonth=function(){if(this.error())return!1;var a=this.today();a.setTime(a.getTime()-864E5*a.getDay());var b=Date.firstSundayOfMonth(a.getMonth()+1,a.getFullYear());return(a.getTime()-b.getTime())/864E5/7+1};
Date.prototype.atWeekdayOfMonth=function(){if(this.error())return!1;var a=this.getDay(),b=new Date(this.getFullYear(),this.getMonth(),1),d=b.getDay(),c=new Date(this.getFullYear(),this.getMonth(),this.getDate());b.setTime(b.getTime()+(a-d+7)%7*864E5);return[(c.getTime()-b.getTime())/864E5/7+1,a]};
Date.prototype.atWeekdayOfYear=function(){if(this.error())return!1;var a=this.getDay(),b=new Date(this.getFullYear(),0,1),d=b.getDay(),c=new Date(this.getFullYear(),this.getMonth(),this.getDate());b.setTime(b.getTime()+(a-d+7)%7*864E5);return[(c.getTime()-b.getTime())/864E5/7+1,a]};