//使用Uglify压缩过的fixed.js
function CHIfixed(e,a,h){e&&(a||(a="top"),h||(h={}),$.fn["int"]=function(a){return parseInt(this.css(a))||0},$.fn.inside=function(a){return 0<this.closest(a).size()},a=a.toLowerCase(),0>$.inArray(a,"top bottom left right horizontal vertical".split(" "))&&(a="top"),$(e).map(function(e,b){var c={},d;for(d in h)c[d]=$(b).css(d);d=$(b).offset();c={css:c};if("top"==a||"vertical"==a)c.topLimit=d.top-$(b)["int"]("marginTop");if("bottom"==a||"vertical"==a)c.bottomLimit=d.top+$(b).outerHeight()+$(b)["int"]("marginBottom")-
$(window).height();if("left"==a||"horizontal"==a)c.leftLimit=d.left-$(b)["int"]("marginLeft");if("right"==a||"horizontal"==a)c.rightLimit=d.left+$(b).outerWidth()+$(b)["int"]("marginRight")-$(window).width();$(b).data(c);c=$("<"+b.tagName+">");d=$("<"+b.tagName+">");c.width($(b).outerWidth()).height($(b).outerHeight()).hide().insertAfter($(b)).css({marginLeft:$(b).css("marginLeft"),marginRight:$(b).css("marginRight"),marginTop:$(b).css("marginTop"),marginBottom:$(b).css("marginBottom"),visibility:"hidden",
"float":$(b).css("float"),clear:$(b).css("clear")});var p=0<=$.inArray(a,["top","bottom","vertical"])?{left:$(b).offset().left-$(b)["int"]("marginLeft")}:{top:$(b).offset().top-$(b)["int"]("marginTop")};d.width($(b).outerWidth(!0)).height($(b).outerHeight(!0)).addClass("fixed").appendTo("body").css(p);$(window).on("scroll load",function(){for(var a=$(b),c=$(window).scrollLeft(),d=$(window).scrollTop(),k=a.data("fixer"),e=a.data("placer"),n=["top","bottom","left","right"],m=0;m<n.length;m++){var l=
n[m],g,f=a.data(l+"Limit");switch(l){case "top":g=d>f;break;case "left":g=c>f;break;case "right":g=c<f;break;case "bottom":g=d<f}f=a.inside(k);if(g&&!f){c=l;e.show();a.css(h);k.append(a).addClass("fixed-"+c).show();break}else if(!g&&f&&k.hasClass("fixed-"+l)){e.hide();a.insertBefore(e).css(a.data("css"));k.hide().removeClass("fixed-top fixed-bottom fixed-left fixed-right");break}}});$(b).data({placer:c,fixer:d})}))};
