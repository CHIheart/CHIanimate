//使用Uglify压缩的magnifier.js
function CHImagnifier(a){function l(c){return c&&/^[\+]?[0]*[1-9][\d]*$/.test(c)}a||(a={});var w=l(a.mode)&&5>a.mode?a.mode:0,m=l(a.z)?a.z:1E4,x=a.white?Boolean(a.white):!1,d={},c=$("<div/>").css({zIndex:m,position:"absolute"});c.attr("id","Magnifier");d.init=function(a,b,n){a&&$(a).size()&&(b||(b=1E4),$(a).mouseenter(function(){d.show(this,b,n)}),$(a).mousemove(function(a){var b=n;if(!l(b)&&0!==b&&"0"!==b||5<b)b=w;var f=a.pageX,e=a.pageY,d=$(this).offset();a=f-d.left;var h=e-d.top,v=$(this).width(),
m=$(this).height(),d=c.find("img").eq(0),p=d.width(),q=d.height();if(b){var k=$(this).parent(),e=k.offset(),f=e.left,e=e.top,g=k.outerWidth(),k=k.outerHeight();switch(b){case 1:e-=r;break;case 2:f+=g;break;case 3:e+=k;break;case 4:f-=s}}else f+=10,e+=10,g=$(window),b=.5*g.width()+g.scrollLeft(),g=.5*g.height()+g.scrollTop(),f>b&&(f-=20+s),e>g&&(e-=20+r);c.css({left:f,top:e});h=-q*h/m+.5*t;a=-p*a/v+.5*u;x||(h=0<h?0:Math.max(t-q,h),a=0<a?0:Math.max(u-p,a));d.css({marginTop:h,marginLeft:a})}),$(a).mouseleave(function(){d.hide()}))};
d.show=function(a,b,d){a&&(b||(b=1E4),c.css("zIndex",b),d=(b=0<c.has("img").length)&&c.find("img").get(0).src==a.src,b&&d||(d||c.empty(),b=$("<img/>"),b.get(0).src=a.src,c.append(b)),$("body").append(c))};d.hide=function(){c.remove()};$("body").append(c);c.css({top:0,left:0,visibility:"hidden"});var u=c.width(),t=c.height(),s=c.outerWidth(),r=c.outerHeight();c.css({visibility:"visible"}).remove();return d};