//使用Uglify压缩的blocks.js
function CHIblocks(c,f,d,a,h){function g(a){return a&&$(a).size()}function v(a){return a&&/^[\+]?[0]*[1-9][\d]*$/.test(a)}function D(a){return!isNaN(a)&&/^[\+]?[\d]+$/.test(a)}function E(a,b){return Math.floor(Math.random()*(Math.max(a,b)-Math.min(a,b)))+Math.min(a,b)}function w(){k||r||(r=setTimeout(b.next,F))}function x(){clearTimeout(r);r=0}if(!g(c))return!1;f||(f="img");c=$(c).eq(0);var s=c.find(f);if(!s.size())return!1;d||(d={});a||(a={});h||(h={});var F=v(a.delay)?parseInt(a.delay)||0:5E3,n=
"auto"in a?Boolean(a.auto):!0;f="mstop"in a?Boolean(a.mstop):!0;var b={},t=[],m=v(a.h)?parseInt(a.h)||0:2;a=v(a.v)?parseInt(a.v)||0:2;var z=m*a,p=c.width()/m,q=c.height()/a;c.empty();for(a=0;a<z;a++){t.push(a);var u=[a%m,Math.floor(a/m)];c.append($("<div>").css({width:p,height:q,left:p*u[0],top:q*u[1],backgroundPosition:-p*u[0]+"px "+-q*u[1]+"px"}))}var t=t.join(","),A=c.children().css("backgroundImage","url("+s.get(0).src+")"),B=s.size(),e=0,k=0;b.show=function(a){if(!k){x();k=z;D(a)||(a=e+1);a%=
B;var b=t.split(",");A.map(function(d,c){var e=E(0,b.length),g=b[e],f=[g%m,Math.floor(g/m)];b.splice(e,1);$(c).delay(100*d).fadeOut("","",function(){$(c).css({backgroundImage:"url("+s.get(a).src+")",backgroundPosition:-p*f[0]+"px "+-q*f[1]+"px"})}).delay(100).fadeIn().delay(100*d+500*B).animate({top:q*f[1],left:p*f[0]},500,"",function(){k--;h.each&&h.each($(c));k||(n&&w(),h.all&&h.all(A))})});"undefined"!==typeof C&&y.eq(e).addClass("cur").siblings().removeClass("cur");e=a}};var r=0;b.on=function(){n=
!0;w()};b.off=function(){n=!1;x()};f&&c.mouseleave(function(){n&&w()}).mouseenter(x);b.next=function(){k||(e++,b.play(e))};b.prev=function(){k||(e=l-1+e,b.play(e))};if(g(d.indices)){var C=$(d.indices),y=C.children();y.eq(0).addClass("cur");y.click(function(){b.show($(this).index())})}g(d.prev)&&$(d.prev).click(b.prev);g(d.next)&&$(d.next).click(b.next);g(d.stop)&&$(d.stop).click(b.off);g(d.start)&&$(d.start).click(b.on);h.init&&h.init(c);if(n)b.on();return b};