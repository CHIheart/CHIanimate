//使用Uglify压缩过的fans.js
function CHIfans(c,l,b,m){function v(a){return a&&/^[\+]?[0]*[1-9][\d]*$/.test(a)}if(c&&$(c).size()){b||(b={});m||(m={});var p="relax"in b?b.relax:!0,q=p?"mouseenter":"click";c=$(c).eq(0);var d=l?c.find(l):c.children(),a={},e=d.size();if(e){l=d.eq(0).outerWidth();for(var r=c.width(),f=0,g=0,h=0,k=0;k<e;k++){var s=d.eq(k);s.data({bx:k?(r-l)/(e-1)*(k-1)+l:0,ax:(r-l)/(e-1)*k,rx:r/e*k});s.get(0).timer=0;s[q](function(){clearTimeout(f);d.finish();a.show($(this).index())})}a.show=function(a){if(!h){h=d.size();
d.eq(a).addClass("cur");for(var b=0;b<e;b++){var c=d.eq(b).stop();c.animate({left:c.data(a<b?"bx":"ax")},function(){h--;a==b&&(m.show?m.show(c):m.hide&&m.hide(c));h||!n||p||t||(f=0,start())});g=a}d.eq(a).siblings().removeClass("cur")}};a.relax=function(){d.removeClass("cur").map(function(a,b){$(b).animate({left:$(b).data("rx")})})};if(p)a.relax(),c.mouseleave(a.relax);else{var u=function(){h||f||(f=setTimeout(a.next,w))};a.show(0);var w=v(b.delay)?b.delay:3E3,q="mstop"in b?Boolean(b.mstop):!0,n="auto"in
b?b.auto:!0,t=0;a.on=function(){n=!0;u()};a.off=function(){n=!1;clearTimeout(f);f=0};a.next=function(){h||(g=(g+1)%e,a.show(g))};a.prev=function(){h||(g=(g-1+e)%e,a.show(g))};q&&c.mouseleave(function(){t=!1;n&&u()}).mouseenter(function(){clearTimeout(f);f=0;t=!0});if(n)a.on()}return a}}};